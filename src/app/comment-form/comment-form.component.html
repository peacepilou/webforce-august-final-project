<section id="s">
    <form #myForm="ngForm" (ngSubmit)="onSubmit()">
        <div>
            <label for="category-comment">Categorie</label>
            <select name="category-comment" id="category-comment" #category="ngModel" [(ngModel)]="com.category" required>
                <option *ngFor="let cat of categories" [value]="cat">
                    {{cat}}
                </option>
            </select>
        </div>
        <div *ngIf="category.errors && myForm.submitted">
            <span *ngIf="category.errors?.required">Le champs est requis </span>
        </div>
        <div>
            <label for="pseudo-comment">Pseudo</label>
            <input name="pseudo-comment" id="pseudo-comment" type="text" #pseudo="ngModel" [(ngModel)]="com.pseudo" required>
        </div>
        <div *ngIf="pseudo.errors && myForm.submitted">
            <span *ngIf="pseudo.errors?.required">Le titre est requis</span>
        </div>
        <div>
            <label for="score-comment">Note</label>
            <input name="score-comment" id="score-comment" type="number" #score="ngModel" [(ngModel)]="com.score" required max=5 min=0>
        </div>
        <div *ngIf="score.errors && myForm.submitted">
            <span *ngIf="score.errors?.required">Le champs est requis </span>
        </div>
        <div>
            <label for="comment-comment">Commentaire</label>
            <textarea name="comment-comment" id="comment-comment" type="text" #comment="ngModel" [(ngModel)]="com.comment" required rows=6 cols=40></textarea>
        </div>
        <div *ngIf="comment.errors && myForm.submitted">
            <span *ngIf="comment.errors?.required">Le champs est requis </span>
        </div>


        <div>
            <button type="reset">Restaurer</button>
            <button [disabled]="!myForm.valid" id='submit' type="submit">Envoyer</button>
        </div>
    </form>
</section>

<hr>

<section id="allcoms">
    <div *ngFor="let com of commentList" [ngStyle]="{'border-color': getColor(com) } ">

        <h3>{{com.pseudo}} <span> ({{com.category}})</span> <strong>{{com.score}}</strong></h3>
        <p>{{com.comment}}</p>
    </div>

</section>